(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60572,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(39964),i=e.i(59544),r=e.i(86909),a=e.i(17751),n=e.i(12598);let o=new a.QueryClient;function c(){let e=r.authService.getCurrentUser(),[a,n]=(0,t.useState)(!1),[o,c]=(0,t.useState)({email:"",profile:e?.role==="patient"?{firstName:"",lastName:"",dateOfBirth:void 0,location:{city:"",country:""},conditions:[],interests:[],avatar:void 0}:{firstName:"",lastName:"",specialties:[],researchInterests:[],institution:"",position:"",orcid:void 0,researchGate:void 0,publications:[],isAvailableForMeetings:!1,avatar:void 0}});if((0,t.useEffect)(()=>{e&&c({email:e.email,profile:e.profile})},[]),!e)return null;let d=async()=>{try{console.log("Saving profile:",o),n(!1)}catch(e){console.error("Failed to update profile:",e)}},m="patient"===e.role,u=e.profile,x=o.profile,b=(e,s)=>{c(t=>({...t,profile:{...t.profile,[e]:s}}))},g=(e,s)=>{c(t=>({...t,profile:{...t.profile,location:{...t.profile.location,[e]:s}}}))},p=e=>"location"in e?e.location:{city:"",country:""},h=e=>"conditions"in e?e.conditions:[],f=e=>"interests"in e?e.interests:"researchInterests"in e?e.researchInterests:[],j=e=>"dateOfBirth"in e?e.dateOfBirth:void 0,y=e=>"institution"in e?e.institution:"",N=e=>"position"in e?e.position:"",v=e=>"specialties"in e?e.specialties:[],k=e=>"isAvailableForMeetings"in e&&e.isAvailableForMeetings;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your personal information and preferences"})]}),(0,s.jsx)("div",{className:"flex space-x-3",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Button,{onClick:()=>{c({email:e.email,profile:e.profile}),n(!1)},variant:"outline",children:"Cancel"}),(0,s.jsx)(i.Button,{onClick:d,variant:"primary",children:"Save Changes"})]}):(0,s.jsx)(i.Button,{onClick:()=>n(!0),variant:"outline",children:"Edit Profile"})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)(l.Card,{className:"lg:col-span-2",children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Basic Information"})}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),a?(0,s.jsx)("input",{type:"text",value:x.firstName,onChange:e=>b("firstName",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):(0,s.jsx)("p",{className:"mt-1 text-gray-900",children:u.firstName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),a?(0,s.jsx)("input",{type:"text",value:x.lastName,onChange:e=>b("lastName",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):(0,s.jsx)("p",{className:"mt-1 text-gray-900",children:u.lastName})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,s.jsx)("p",{className:"mt-1 text-gray-900",children:e.email})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),a?(0,s.jsx)("input",{type:"text",value:p(x).city,onChange:e=>g("city",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):(0,s.jsx)("p",{className:"mt-1 text-gray-900",children:p(u).city||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),a?(0,s.jsx)("input",{type:"text",value:p(x).country,onChange:e=>g("country",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):(0,s.jsx)("p",{className:"mt-1 text-gray-900",children:p(u).country||"N/A"})]})]}),m&&a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),(0,s.jsx)("input",{type:"date",value:j(x)||"",onChange:e=>b("dateOfBirth",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Conditions"}),(0,s.jsx)("input",{type:"text",placeholder:"Add conditions separated by commas",value:h(x).join(", "),onChange:e=>b("conditions",e.target.value.split(",").map(e=>e.trim()).filter(e=>e)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Interests"}),(0,s.jsx)("input",{type:"text",placeholder:"Add interests separated by commas",value:f(x).join(", "),onChange:e=>b("interests",e.target.value.split(",").map(e=>e.trim()).filter(e=>e)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),!m&&a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Institution"}),(0,s.jsx)("input",{type:"text",value:y(x),onChange:e=>b("institution",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Position"}),(0,s.jsx)("input",{type:"text",value:N(x),onChange:e=>b("position",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Research Interests"}),(0,s.jsx)("input",{type:"text",placeholder:"Add research interests separated by commas",value:f(x).join(", "),onChange:e=>b("researchInterests",e.target.value.split(",").map(e=>e.trim()).filter(e=>e)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Specialties"}),(0,s.jsx)("input",{type:"text",placeholder:"Add specialties separated by commas",value:v(x).join(", "),onChange:e=>b("specialties",e.target.value.split(",").map(e=>e.trim()).filter(e=>e)),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"availableForMeetings",checked:k(x),onChange:e=>b("isAvailableForMeetings",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"availableForMeetings",className:"ml-2 block text-sm text-gray-700",children:"Available for meetings with patients"})]})]})]})]}),!a&&(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsx)("h2",{className:"text-xl font-semibold",children:m?"Medical Information":"Professional Information"})}),(0,s.jsx)(l.CardContent,{className:"space-y-4",children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),(0,s.jsx)("p",{className:"mt-1 text-gray-900",children:j(u)?new Date(j(u)).toLocaleDateString():"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Conditions"}),(0,s.jsx)("div",{className:"mt-1",children:h(u).map((e,t)=>(0,s.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded mr-2 mb-2",children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Interests"}),(0,s.jsx)("div",{className:"mt-1",children:f(u).map((e,t)=>(0,s.jsx)("span",{className:"inline-block bg-green-100 text-green-800 text-sm px-2 py-1 rounded mr-2 mb-2",children:e},t))})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Institution"}),(0,s.jsx)("p",{className:"mt-1 text-gray-900",children:y(u)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Position"}),(0,s.jsx)("p",{className:"mt-1 text-gray-900",children:N(u)||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Research Interests"}),(0,s.jsx)("div",{className:"mt-1",children:f(u).map((e,t)=>(0,s.jsx)("span",{className:"inline-block bg-purple-100 text-purple-800 text-sm px-2 py-1 rounded mr-2 mb-2",children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Specialties"}),(0,s.jsx)("div",{className:"mt-1",children:v(u).map((e,t)=>(0,s.jsx)("span",{className:"inline-block bg-orange-100 text-orange-800 text-sm px-2 py-1 rounded mr-2 mb-2",children:e},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Availability"}),(0,s.jsx)("p",{className:"mt-1",children:(0,s.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${k(u)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k(u)?"Available for meetings":"Not available for meetings"})})]})]})})]})]})]})}function d(){return(0,s.jsx)(n.QueryClientProvider,{client:o,children:(0,s.jsx)(c,{})})}e.s(["default",()=>d])}]);