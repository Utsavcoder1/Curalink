(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8224,e=>{"use strict";var s=e.i(43476),a=e.i(71645),r=e.i(66027),t=e.i(54616),l=e.i(9165);function i(){let e,[i,n]=(0,a.useState)(""),[o,c]=(0,a.useState)({journals:"",yearFrom:"",yearTo:""}),{data:d,isLoading:m}=(e={query:i,journals:o.journals,yearFrom:o.yearFrom,yearTo:o.yearTo},(0,r.useQuery)({queryKey:["publications",e],queryFn:async()=>(await l.publicationsAPI.search(e||{})).data.data.publications})),u=(0,t.useMutation)({mutationFn:async e=>(await l.publicationsAPI.savePublication(e)).data,onSuccess:e=>{e.success&&console.log("Publication saved successfully")},onError:e=>{console.error("Error saving publication:",e)}}),x=new Date().getFullYear(),h=Array.from({length:20},(e,s)=>x-s);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Research Publications"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Discover the latest research and medical publications relevant to your interests"})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Publications"}),(0,s.jsx)("input",{type:"text",id:"search",placeholder:"Search by title, abstract, keywords, or authors...",value:i,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"journal",className:"block text-sm font-medium text-gray-700 mb-1",children:"Journal"}),(0,s.jsx)("input",{type:"text",id:"journal",placeholder:"e.g., Nature, JAMA",value:o.journals,onChange:e=>c(s=>({...s,journals:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"yearFrom",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year From"}),(0,s.jsxs)("select",{id:"yearFrom",value:o.yearFrom,onChange:e=>c(s=>({...s,yearFrom:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Any Year"}),h.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"yearTo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year To"}),(0,s.jsxs)("select",{id:"yearTo",value:o.yearTo,onChange:e=>c(s=>({...s,yearTo:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Any Year"}),h.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm",children:m?(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Searching publications..."})]}):(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:[d?.length||0," Publications Found"]}),(0,s.jsx)("div",{className:"space-y-6",children:d?.map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.title}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-3",children:[(0,s.jsx)("span",{className:"font-medium",children:e.journal}),e.publicationDate&&(0,s.jsx)("span",{children:new Date(e.publicationDate).getFullYear()}),e.doi&&(0,s.jsxs)("span",{className:"text-blue-600",children:["DOI: ",e.doi]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Authors"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.authors?.slice(0,5).join(", "),e.authors&&e.authors.length>5&&" et al."]})]})]}),(0,s.jsx)("button",{onClick:()=>{var s;return s=e._id,void u.mutate(s)},disabled:u.isPending,className:"text-gray-400 hover:text-yellow-500 transition-colors disabled:opacity-50 ml-4",title:"Save to favorites",children:"â­"})]}),e.aiSummary&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"AI Summary"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded leading-relaxed",children:e.aiSummary})]}),e.abstract&&"No abstract available"!==e.abstract&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Abstract"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 line-clamp-3",children:e.abstract})]}),e.keywords&&e.keywords.length>0&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.keywords.slice(0,8).map((e,a)=>(0,s.jsx)("span",{className:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:e},a)),e.keywords.length>8&&(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.keywords.length-8," more"]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.pmid&&(0,s.jsxs)("span",{children:["PMID: ",e.pmid]})}),(0,s.jsx)("div",{className:"flex space-x-3",children:(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View Full Paper"})})]})]},e._id))}),(!d||0===d.length)&&(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No publications found. Try adjusting your search criteria."})})]})})]})}e.s(["default",()=>i],8224)}]);