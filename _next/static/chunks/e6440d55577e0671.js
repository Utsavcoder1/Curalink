(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56096,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(54338);let a=[{_id:"1",title:"Cancer Research",description:"Discussions about latest cancer research and treatments",category:"Research",createdBy:"admin",isActive:!0},{_id:"2",title:"Clinical Trials Insights",description:"Share experiences and insights about clinical trials",category:"Clinical Trials",createdBy:"admin",isActive:!0},{_id:"3",title:"Patient Support",description:"Support and advice for patients and caregivers",category:"Support",createdBy:"admin",isActive:!0},{_id:"4",title:"Research Collaboration",description:"Connect with other researchers for collaboration opportunities",category:"Collaboration",createdBy:"admin",isActive:!0}],i=[{_id:"1",forum:"1",title:"Latest advancements in immunotherapy for brain cancer",content:"I've been researching recent developments in immunotherapy approaches for glioblastoma. Has anyone come across promising clinical trials or research papers in this area?",author:"patient123",authorRole:"patient",isQuestion:!0,tags:["immunotherapy","brain-cancer","clinical-trials"],isActive:!0},{_id:"2",forum:"1",title:"CAR-T therapy results in pediatric patients",content:"Our research team has observed remarkable results with CAR-T therapy in pediatric oncology cases. The response rates have been encouraging, though we're monitoring long-term effects.",author:"dr_smith",authorRole:"researcher",isQuestion:!1,tags:["car-t","pediatric","oncology"],isActive:!0}];function n(){let{data:e}=(0,r.useGetCurrentUser)(),[n,l]=(0,s.useState)(null),[o,c]=(0,s.useState)(i),[d,h]=(0,s.useState)(!1),[m,u]=(0,s.useState)({title:"",content:"",isQuestion:!0,tags:[]}),x=e?.role==="patient";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Community Forums"}),(0,t.jsxs)("p",{className:"text-gray-600 mt-2",children:["Connect with ",x?"researchers and other patients":"patients and fellow researchers"," to share knowledge and experiences"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Forums"}),(0,t.jsx)("div",{className:"space-y-2",children:a.map(e=>(0,t.jsxs)("button",{onClick:()=>{l(e)},className:`w-full text-left p-3 rounded-lg transition-colors ${n?._id===e._id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,t.jsx)("span",{className:"inline-block mt-2 text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:e.category})]},e._id))})]})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:n?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:n.title}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:n.description})]}),!x&&(0,t.jsx)("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"New Post"})]})}),d&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Post"}),(0,t.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!n)return;let s={_id:Date.now().toString(),forum:n._id,title:m.title,content:m.content,author:e?._id||"user",authorRole:e?.role==="researcher"?"researcher":"patient",isQuestion:m.isQuestion,tags:m.tags,isActive:!0};c(e=>[s,...e]),u({title:"",content:"",isQuestion:!0,tags:[]}),h(!1)},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,t.jsx)("input",{type:"text",id:"title",required:!0,value:m.title,onChange:e=>u(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter post title..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),(0,t.jsx)("textarea",{id:"content",required:!0,rows:4,value:m.content,onChange:e=>u(t=>({...t,content:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write your post content..."})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"isQuestion",checked:m.isQuestion,onChange:e=>u(t=>({...t,isQuestion:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,t.jsx)("label",{htmlFor:"isQuestion",className:"ml-2 block text-sm text-gray-700",children:"This is a question"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Post"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[o.filter(e=>e.forum===n._id).map(s=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s.title}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${"researcher"===s.authorRole?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:s.authorRole}),s.isQuestion&&(0,t.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Question"})]})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:new Date().toLocaleDateString()})]}),(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:s.content}),s.tags&&s.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-4",children:s.tags.map((e,s)=>(0,t.jsxs)("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:["#",e]},s))}),e?.role==="researcher"&&(0,t.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Reply to Post"}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"0 replies"})]}),x&&(0,t.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"researcher"===s.authorRole?"Researcher post - awaiting patient questions":"Your question - awaiting researcher responses"})})]},s._id)),0===o.filter(e=>e.forum===n._id).length&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"No posts in this forum yet."}),!x&&(0,t.jsx)("button",{onClick:()=>h(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create First Post"})]})]})]}):(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Forum"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Choose a forum from the left to view discussions and ",x?"ask questions":"participate in conversations","."]})]})})})]})]})}e.s(["default",()=>n])}]);